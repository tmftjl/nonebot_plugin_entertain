"""AI 对话插件使用示例

演示如何使用 AI 对话插件的各种功能
"""

# ===== 示例 1: 基础对话 =====

# 群聊场景:
# 用户: @小助手 今天天气怎么样？
# 机器人: (调用 get_weather 工具) 今天天气晴朗，温度 25℃...

# 私聊场景:
# 用户: /chat 你好
# 机器人: 你好！有什么可以帮助你的吗？


# ===== 示例 2: 会话管理 =====

# 清空会话历史
# 用户: #清空会话
# 机器人: ✅ 已清空当前会话的历史记录

# 查看会话信息
# 用户: #会话信息
# 机器人:
# 📊 会话信息
# ━━━━━━━━━━━━━━━━
# 会话 ID: group_123456
# 状态: ✅ 启用
# 人格: 默认助手
# 最大历史: 20 条
# 创建时间: 2024-10-21 19:00:00
# 更新时间: 2024-10-21 19:30:00

# 开启/关闭 AI (需要管理员权限)
# 用户: #开启AI
# 机器人: ✅ 已开启 AI

# 用户: #关闭AI
# 机器人: ✅ 已关闭 AI


# ===== 示例 3: 人格系统 =====

# 查看当前人格
# 用户: #人格
# 机器人:
# 🎭 当前人格
# ━━━━━━━━━━━━━━━━
# 名称: 默认助手
# 描述: 一个友好的 AI 助手
# 温度: 0.7
# 启用工具: get_time, get_weather
# ━━━━━━━━━━━━━━━━
# 系统提示:
# 你是一个友好、乐于助人的 AI 助手。你的回复简洁明了，富有同理心。

# 查看人格列表
# 用户: #人格列表
# 机器人:
# 🎭 可用人格列表
# ━━━━━━━━━━━━━━━━
# • default: 默认助手 - 一个友好的 AI 助手
# • tsundere: 傲娇少女 - 傲娇性格的少女
# • professional: 专业顾问 - 专业的技术顾问

# 切换人格 (需要管理员权限)
# 用户: #切换人格 tsundere
# 机器人: ✅ 已切换到人格: 傲娇少女

# 切换后的对话风格会变化:
# 用户: @小助手 你好
# 机器人: 哼，你好啊...才、才不是特意等你的！


# ===== 示例 4: 好感度系统 =====

# 查看好感度
# 用户: #好感度
# 机器人:
# 💝 好感度信息
# ━━━━━━━━━━━━━━━━
# 好感度: 65/100
# 等级: 💖 亲密
# 互动次数: 42
# 正面情感: 8
# 负面情感: 2
# 最后互动: 2024-10-21 19:30:00

# 好感度等级效果:
# - 😒 冷淡 (0-20): AI 回复会比较简短
# - 😐 普通 (21-40): 正常回复
# - 😊 友好 (41-60): 更热情的回复
# - 💖 亲密 (61-80): 使用昵称，更主动
# - 💕 深厚 (81-100): 特殊称呼，非常亲密


# ===== 示例 5: 工具调用 =====

# AI 会自动调用工具来回答问题

# 示例: 询问时间
# 用户: @小助手 现在几点了？
# AI 内部流程:
# 1. 检测到需要时间信息
# 2. 调用 get_time 工具
# 3. 获取结果: "2024-10-21 19:30:00"
# 4. 生成回复
# 机器人: 现在是 2024年10月21日 19:30 哦~

# 示例: 询问天气
# 用户: @小助手 北京天气怎么样？
# AI 内部流程:
# 1. 检测到需要天气信息
# 2. 调用 get_weather("北京") 工具
# 3. 获取结果: "北京的天气：晴，25℃"
# 4. 生成回复
# 机器人: 北京今天天气很好，晴天，温度25℃，适合出门！


# ===== 示例 6: 系统管理 =====

# 重载配置 (需要超级用户权限)
# 用户: #重载AI配置
# 机器人: ✅ 已重载所有配置并清空缓存

# 使用场景:
# 1. 修改了 data/ai_chat/config.json
# 2. 修改了 data/ai_chat/personas.json
# 3. 想让新配置立即生效
# 4. 执行 #重载AI配置


# ===== 示例 7: 自定义人格 =====

# 步骤 1: 编辑 data/ai_chat/personas.json
"""
{
  "cat_girl": {
    "name": "猫娘助手",
    "description": "可爱的猫娘",
    "system_prompt": "你是一个可爱的猫娘，说话会带上'喵'等猫咪口癖。性格活泼可爱，喜欢撒娇。",
    "temperature": 0.9,
    "model": "gpt-4o-mini",
    "enabled_tools": ["get_time"]
  }
}
"""

# 步骤 2: 重载配置
# 用户: #重载AI配置
# 机器人: ✅ 已重载所有配置并清空缓存

# 步骤 3: 切换人格
# 用户: #切换人格 cat_girl
# 机器人: ✅ 已切换到人格: 猫娘助手

# 步骤 4: 测试对话
# 用户: @小助手 你好
# 机器人: 你好喵~ 主人今天心情怎么样喵？


# ===== 示例 8: 群聊多用户场景 =====

# 群聊中，AI 能识别不同用户:
# 张三: @小助手 我叫张三
# 机器人: 你好，张三！很高兴认识你。

# 李四: @小助手 我叫李四
# 机器人: 你好，李四！欢迎！

# 张三: @小助手 我刚才说了什么？
# 机器人: 你刚才说你叫张三。

# 注意: AI 能区分不同用户的发言，但群内所有人共享同一个会话历史


# ===== 示例 9: 私聊场景 =====

# 私聊中，会话是独立的:
# 用户 (私聊): /chat 我喜欢吃苹果
# 机器人: 苹果是很健康的水果呢！

# 用户 (私聊): /chat 我刚才说了什么？
# 机器人: 你说你喜欢吃苹果。

# 注意: 私聊的会话和群聊的会话是完全隔离的


# ===== 示例 10: API 配置示例 =====

# 使用 OpenAI 官方 API:
"""
{
  "api": {
    "base_url": "https://api.openai.com/v1",
    "api_key": "sk-...",
    "model": "gpt-4o-mini",
    "timeout": 60
  }
}
"""

# 使用兼容的第三方 API:
"""
{
  "api": {
    "base_url": "https://api.example.com/v1",
    "api_key": "your-api-key",
    "model": "gpt-4o-mini",
    "timeout": 60
  }
}
"""

# 使用本地部署的模型 (如 Ollama):
"""
{
  "api": {
    "base_url": "http://localhost:11434/v1",
    "api_key": "ollama",
    "model": "qwen2.5:7b",
    "timeout": 120
  }
}
"""
